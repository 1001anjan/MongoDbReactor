pipeline {
    agent any

    environment {
            SPRING_BOOT_VERSION = '3.1.1'
        }

    stages {
            stage('Build') {
                steps {
                    script {
                        sh 'chmod +x ./gradlew'
                        sh "./gradlew clean build -PspringBootVersion=${SPRING_BOOT_VERSION}"
                    }
                }
            }

            stage('Test') {
                steps {
                    script {
                        sh 'chmod +x ./gradlew'
                        sh "./gradlew test -PspringBootVersion=${SPRING_BOOT_VERSION}"
                    }
                }
            }

            // Define more stages as needed
        }

}